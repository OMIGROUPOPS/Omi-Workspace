export const NFL_TEAMS: Record<string, string> = {
  'Arizona Cardinals': 'ari', 'Atlanta Falcons': 'atl', 'Baltimore Ravens': 'bal', 'Buffalo Bills': 'buf',
  'Carolina Panthers': 'car', 'Chicago Bears': 'chi', 'Cincinnati Bengals': 'cin', 'Cleveland Browns': 'cle',
  'Dallas Cowboys': 'dal', 'Denver Broncos': 'den', 'Detroit Lions': 'det', 'Green Bay Packers': 'gb',
  'Houston Texans': 'hou', 'Indianapolis Colts': 'ind', 'Jacksonville Jaguars': 'jax', 'Kansas City Chiefs': 'kc',
  'Las Vegas Raiders': 'lv', 'Los Angeles Chargers': 'lac', 'Los Angeles Rams': 'lar', 'Miami Dolphins': 'mia',
  'Minnesota Vikings': 'min', 'New England Patriots': 'ne', 'New Orleans Saints': 'no', 'New York Giants': 'nyg',
  'New York Jets': 'nyj', 'Philadelphia Eagles': 'phi', 'Pittsburgh Steelers': 'pit', 'San Francisco 49ers': 'sf',
  'Seattle Seahawks': 'sea', 'Tampa Bay Buccaneers': 'tb', 'Tennessee Titans': 'ten', 'Washington Commanders': 'wsh',
};

export const NBA_TEAMS: Record<string, string> = {
  'Atlanta Hawks': 'atl', 'Boston Celtics': 'bos', 'Brooklyn Nets': 'bkn', 'Charlotte Hornets': 'cha',
  'Chicago Bulls': 'chi', 'Cleveland Cavaliers': 'cle', 'Dallas Mavericks': 'dal', 'Denver Nuggets': 'den',
  'Detroit Pistons': 'det', 'Golden State Warriors': 'gs', 'Houston Rockets': 'hou', 'Indiana Pacers': 'ind',
  'LA Clippers': 'lac', 'Los Angeles Clippers': 'lac', 'Los Angeles Lakers': 'lal', 'LA Lakers': 'lal',
  'Memphis Grizzlies': 'mem', 'Miami Heat': 'mia', 'Milwaukee Bucks': 'mil', 'Minnesota Timberwolves': 'min',
  'New Orleans Pelicans': 'no', 'New York Knicks': 'ny', 'Oklahoma City Thunder': 'okc', 'Orlando Magic': 'orl',
  'Philadelphia 76ers': 'phi', 'Phoenix Suns': 'phx', 'Portland Trail Blazers': 'por', 'Sacramento Kings': 'sac',
  'San Antonio Spurs': 'sa', 'Toronto Raptors': 'tor', 'Utah Jazz': 'utah', 'Washington Wizards': 'wsh',
};

export const NHL_TEAMS: Record<string, string> = {
  'Anaheim Ducks': 'ana', 'Arizona Coyotes': 'ari', 'Boston Bruins': 'bos', 'Buffalo Sabres': 'buf',
  'Calgary Flames': 'cgy', 'Carolina Hurricanes': 'car', 'Chicago Blackhawks': 'chi', 'Colorado Avalanche': 'col',
  'Columbus Blue Jackets': 'cbj', 'Dallas Stars': 'dal', 'Detroit Red Wings': 'det', 'Edmonton Oilers': 'edm',
  'Florida Panthers': 'fla', 'Los Angeles Kings': 'la', 'Minnesota Wild': 'min', 'Montreal Canadiens': 'mtl',
  'Nashville Predators': 'nsh', 'New Jersey Devils': 'nj', 'New York Islanders': 'nyi', 'New York Rangers': 'nyr',
  'Ottawa Senators': 'ott', 'Philadelphia Flyers': 'phi', 'Pittsburgh Penguins': 'pit', 'San Jose Sharks': 'sj',
  'Seattle Kraken': 'sea', 'St. Louis Blues': 'stl', 'St Louis Blues': 'stl', 'Tampa Bay Lightning': 'tb',
  'Toronto Maple Leafs': 'tor', 'Utah Hockey Club': 'utah', 'Vancouver Canucks': 'van', 'Vegas Golden Knights': 'vgk',
  'Washington Capitals': 'wsh', 'Winnipeg Jets': 'wpg',
};

export const WNBA_TEAMS: Record<string, string> = {
  'Atlanta Dream': 'atl', 'Chicago Sky': 'chi', 'Connecticut Sun': 'conn', 'Dallas Wings': 'dal',
  'Indiana Fever': 'ind', 'Las Vegas Aces': 'lv', 'Los Angeles Sparks': 'la', 'Minnesota Lynx': 'min',
  'New York Liberty': 'ny', 'Phoenix Mercury': 'phx', 'Seattle Storm': 'sea', 'Washington Mystics': 'wsh',
};

export const MLB_TEAMS: Record<string, string> = {
  'Arizona Diamondbacks': 'ari', 'Atlanta Braves': 'atl', 'Baltimore Orioles': 'bal', 'Boston Red Sox': 'bos',
  'Chicago Cubs': 'chc', 'Chicago White Sox': 'chw', 'Cincinnati Reds': 'cin', 'Cleveland Guardians': 'cle',
  'Colorado Rockies': 'col', 'Detroit Tigers': 'det', 'Houston Astros': 'hou', 'Kansas City Royals': 'kc',
  'Los Angeles Angels': 'laa', 'Los Angeles Dodgers': 'lad', 'Miami Marlins': 'mia', 'Milwaukee Brewers': 'mil',
  'Minnesota Twins': 'min', 'New York Mets': 'nym', 'New York Yankees': 'nyy', 'Oakland Athletics': 'oak',
  'Philadelphia Phillies': 'phi', 'Pittsburgh Pirates': 'pit', 'San Diego Padres': 'sd', 'San Francisco Giants': 'sf',
  'Seattle Mariners': 'sea', 'St. Louis Cardinals': 'stl', 'St Louis Cardinals': 'stl', 'Tampa Bay Rays': 'tb',
  'Texas Rangers': 'tex', 'Toronto Blue Jays': 'tor', 'Washington Nationals': 'wsh',
};

export const MLS_TEAMS: Record<string, number> = {
  'Atlanta United': 18977, 'Austin FC': 18630, 'CF Montreal': 17012, 'Charlotte FC': 28644,
  'Chicago Fire': 9938, 'Colorado Rapids': 9939, 'Columbus Crew': 9937, 'D.C. United': 9940,
  'FC Cincinnati': 18996, 'FC Dallas': 9943, 'Houston Dynamo': 9944, 'Inter Miami': 20691,
  'LA Galaxy': 9948, 'Los Angeles FC': 18952, 'Minnesota United': 18974, 'Nashville SC': 18640,
  'New England Revolution': 9950, 'New York City FC': 17408, 'New York Red Bulls': 9951, 'Orlando City': 17407,
  'Philadelphia Union': 9945, 'Portland Timbers': 9952, 'Real Salt Lake': 9946, 'San Jose Earthquakes': 9953,
  'Seattle Sounders': 9947, 'Sporting Kansas City': 9942, 'St. Louis City': 28633, 'Toronto FC': 9949,
  'Vancouver Whitecaps': 9954,
};

// EPL team IDs for ESPN logos
export const EPL_TEAMS: Record<string, number> = {
  'Arsenal': 359, 'Aston Villa': 362, 'Bournemouth': 349, 'Brentford': 337,
  'Brighton': 331, 'Brighton and Hove Albion': 331, 'Chelsea': 363, 'Crystal Palace': 384,
  'Everton': 368, 'Fulham': 370, 'Ipswich': 373, 'Ipswich Town': 373,
  'Leicester': 375, 'Leicester City': 375, 'Liverpool': 364, 'Manchester City': 382,
  'Manchester United': 360, 'Newcastle': 361, 'Newcastle United': 361, 'Nottingham Forest': 393,
  'Southampton': 376, 'Tottenham': 367, 'Tottenham Hotspur': 367, 'West Ham': 371, 'West Ham United': 371,
  'Wolverhampton': 379, 'Wolverhampton Wanderers': 379, 'Wolves': 379,
};

// La Liga team IDs
export const LA_LIGA_TEAMS: Record<string, number> = {
  'Alaves': 94, 'Athletic Bilbao': 93, 'Atletico Madrid': 1068, 'Barcelona': 83,
  'Celta Vigo': 85, 'Espanyol': 88, 'Getafe': 9812, 'Girona': 9866,
  'Las Palmas': 86, 'Leganes': 9879, 'Mallorca': 89, 'Osasuna': 97,
  'Rayo Vallecano': 9856, 'Real Betis': 244, 'Real Madrid': 86, 'Real Sociedad': 243,
  'Real Valladolid': 250, 'Sevilla': 243, 'Valencia': 94, 'Villarreal': 102,
};

// Bundesliga team IDs
export const BUNDESLIGA_TEAMS: Record<string, number> = {
  'Augsburg': 9905, 'Bayer Leverkusen': 131, 'Bayern Munich': 132,
  'Bochum': 3571, 'Borussia Dortmund': 124, 'Borussia Monchengladbach': 137,
  'Eintracht Frankfurt': 125, 'Freiburg': 138, 'Heidenheim': 5569,
  'Hoffenheim': 9902, 'Holstein Kiel': 9898, 'Mainz': 134,
  'RB Leipzig': 9910, 'St. Pauli': 140, 'Stuttgart': 142,
  'Union Berlin': 3573, 'Werder Bremen': 133, 'Wolfsburg': 143,
};

// Serie A team IDs
export const SERIE_A_TEAMS: Record<string, number> = {
  'AC Milan': 103, 'Atalanta': 110, 'Bologna': 107, 'Cagliari': 104,
  'Como': 116, 'Empoli': 108, 'Fiorentina': 109, 'Genoa': 113,
  'Hellas Verona': 120, 'Inter Milan': 114, 'Internazionale': 114,
  'Juventus': 111, 'Lazio': 105, 'Lecce': 106, 'Monza': 10281,
  'Napoli': 112, 'Parma': 115, 'Roma': 104, 'AS Roma': 104,
  'Torino': 118, 'Udinese': 117, 'Venezia': 119,
};

// Ligue 1 team IDs
export const LIGUE_1_TEAMS: Record<string, number> = {
  'Angers': 150, 'Auxerre': 153, 'Brest': 7379, 'Le Havre': 165,
  'Lens': 176, 'Lille': 166, 'Lyon': 167, 'Olympique Lyon': 167,
  'Marseille': 168, 'Olympique Marseille': 168, 'Monaco': 174,
  'Montpellier': 169, 'Nantes': 172, 'Nice': 170, 'Paris Saint-Germain': 160,
  'PSG': 160, 'Reims': 178, 'Rennes': 171, 'Saint-Etienne': 173,
  'Strasbourg': 177, 'Toulouse': 179,
};

// ESPN numeric IDs for NCAAB teams â€” using EXACT Odds API team names
// (e.g. "Michigan St Spartans" not "Michigan State Spartans")
export const NCAAB_TEAMS: Record<string, number> = {
  // Power conferences + top teams
  'Alabama Crimson Tide': 333, 'Arizona St Sun Devils': 9, 'Arizona Wildcats': 12,
  'Arkansas Razorbacks': 8, 'Auburn Tigers': 2, 'Baylor Bears': 239,
  'Boise State Broncos': 68, 'Butler Bulldogs': 2086, 'California Golden Bears': 25,
  'Charlotte 49ers': 2429, 'Cincinnati Bearcats': 2132, 'Clemson Tigers': 228,
  'Colorado St Rams': 36, 'Creighton Bluejays': 156, 'Davidson Wildcats': 2166,
  'Dayton Flyers': 2168, 'DePaul Blue Demons': 305, 'Drake Bulldogs': 2181,
  'Duke Blue Devils': 150, 'Duquesne Dukes': 2184,
  'East Carolina Pirates': 151, 'Evansville Purple Aces': 339,
  'Florida Gators': 57, 'Florida St Seminoles': 52, 'Fordham Rams': 2226,
  'Georgetown Hoyas': 46, 'Georgia Bulldogs': 61, 'Georgia Tech Yellow Jackets': 59,
  'Gonzaga Bulldogs': 2250, 'Grand Canyon Antelopes': 2253,
  'Houston Cougars': 248, 'Illinois Fighting Illini': 356,
  'Indiana Hoosiers': 84, 'Indiana St Sycamores': 282, 'Iowa Hawkeyes': 2294,
  'Iowa St Cyclones': 66, 'Kansas Jayhawks': 2305, 'Kansas St Wildcats': 2306,
  'Kent State Golden Flashes': 2309, 'Kentucky Wildcats': 96,
  'LSU Tigers': 99, 'La Salle Explorers': 2325, 'Loyola Marymount Lions': 2350,
  'Marquette Golden Eagles': 269, 'Marshall Thundering Herd': 276,
  'Massachusetts Minutemen': 113, 'McNeese Cowboys': 2377,
  'Miami Hurricanes': 2390, 'Michigan St Spartans': 127, 'Michigan Wolverines': 130,
  'Minnesota Golden Gophers': 135, 'Mississippi St Bulldogs': 344, 'Missouri Tigers': 142,
  'Missouri St Bears': 2623, 'Murray St Racers': 2405,
  'NC State Wolfpack': 152, 'Nebraska Cornhuskers': 158, 'Nevada Wolf Pack': 2440,
  'New Mexico Lobos': 167, 'New Mexico St Aggies': 166,
  'North Carolina Tar Heels': 153, 'North Texas Mean Green': 249,
  'Northern Illinois Huskies': 2459, 'Northern Iowa Panthers': 2460,
  'Northwestern Wildcats': 77, 'Notre Dame Fighting Irish': 87,
  'Ohio Bobcats': 195, 'Oklahoma Sooners': 201, 'Oklahoma St Cowboys': 197,
  'Old Dominion Monarchs': 295, 'Oregon Ducks': 2483, 'Oregon St Beavers': 204,
  'Pacific Tigers': 279, 'Pepperdine Waves': 2492, 'Pittsburgh Panthers': 221,
  'Portland Pilots': 2501, 'Providence Friars': 2507, 'Purdue Boilermakers': 2509,
  'Rhode Island Rams': 227, 'Rice Owls': 242, 'Richmond Spiders': 257,
  'Rutgers Scarlet Knights': 164,
  'Saint Louis Billikens': 139, 'Sam Houston St Bearkats': 2534,
  'San Diego St Aztecs': 21, 'San Diego Toreros': 2540, 'San Francisco Dons': 2539,
  'Santa Clara Broncos': 2541, 'Seattle Redhawks': 2547,
  'Seton Hall Pirates': 2550, 'South Carolina Gamecocks': 2579,
  'South Dakota St Jackrabbits': 2571, 'South Florida Bulls': 58,
  'Southern Illinois Salukis': 79, 'St. Bonaventure Bonnies': 179,
  "St. John's Red Storm": 2599, 'Stanford Cardinal': 24, 'Syracuse Orange': 183,
  'TCU Horned Frogs': 2628, 'Temple Owls': 218, 'Tennessee Volunteers': 2633,
  'Texas Longhorns': 251, 'Texas Southern Tigers': 2640, 'Texas Tech Red Raiders': 2641,
  'Texas State Bobcats': 326, 'Toledo Rockets': 2649,
  'Tulane Green Wave': 2655, 'Tulsa Golden Hurricane': 202,
  'UAB Blazers': 5, 'UCF Knights': 2116, 'UCLA Bruins': 26, 'UConn Huskies': 41,
  'UNLV Rebels': 2439, 'USC Trojans': 30, 'UTEP Miners': 2638, 'UTSA Roadrunners': 2636,
  'Utah State Aggies': 328, 'VCU Rams': 2670, 'Valparaiso Beacons': 2674,
  'Vanderbilt Commodores': 238, 'Villanova Wildcats': 222,
  'Virginia Cavaliers': 258, 'Virginia Tech Hokies': 259,
  'Wake Forest Demon Deacons': 154, 'Washington St Cougars': 265,
  'West Virginia Mountaineers': 277, 'Western Kentucky Hilltoppers': 98,
  'Western Michigan Broncos': 2711, 'Wisconsin Badgers': 275,
  'Wyoming Cowboys': 2751, 'Xavier Musketeers': 2752,
  // Alternate name forms
  'Michigan State Spartans': 127, 'Arizona State Sun Devils': 9, 'Florida State Seminoles': 52,
  'Kansas State Wildcats': 2306, 'Iowa State Cyclones': 66, 'Oklahoma State Cowboys': 197,
  'Mississippi State Bulldogs': 344, 'Oregon State Beavers': 204, 'Washington State Cougars': 265,
  'Connecticut Huskies': 41, 'North Carolina State Wolfpack': 152,
};

// NCAAF shares schools with NCAAB
export const NCAAF_TEAMS: Record<string, number> = {
  ...NCAAB_TEAMS,
  'Notre Dame Fighting Irish': 87, 'Texas A&M Aggies': 245,
  'Penn State Nittany Lions': 213, 'Penn St Nittany Lions': 213,
};

export function getTeamLogo(teamName: string, sportKey: string): string | null {
  // NFL
  if (sportKey.includes('americanfootball_nfl') && !sportKey.includes('ncaaf')) {
    const abbrev = NFL_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nfl/500/${abbrev}.png`;
  }
  // NCAAF
  if (sportKey.includes('ncaaf')) {
    const espnId = NCAAF_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/ncaa/500/${espnId}.png`;
  }
  // NBA
  if (sportKey === 'basketball_nba') {
    const abbrev = NBA_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nba/500/${abbrev}.png`;
  }
  // NCAAB
  if (sportKey.includes('ncaab')) {
    const espnId = NCAAB_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/ncaa/500/${espnId}.png`;
  }
  // NHL
  if (sportKey.includes('icehockey_nhl')) {
    const abbrev = NHL_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nhl/500/${abbrev}.png`;
  }
  // WNBA
  if (sportKey === 'basketball_wnba') {
    const abbrev = WNBA_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/wnba/500/${abbrev}.png`;
  }
  // MLB
  if (sportKey === 'baseball_mlb') {
    const abbrev = MLB_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/mlb/500/${abbrev}.png`;
  }
  // MLS
  if (sportKey === 'soccer_usa_mls') {
    const espnId = MLS_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // EPL
  if (sportKey === 'soccer_epl') {
    const espnId = EPL_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // La Liga
  if (sportKey === 'soccer_spain_la_liga') {
    const espnId = LA_LIGA_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // Bundesliga
  if (sportKey === 'soccer_germany_bundesliga') {
    const espnId = BUNDESLIGA_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // Serie A
  if (sportKey === 'soccer_italy_serie_a') {
    const espnId = SERIE_A_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // Ligue 1
  if (sportKey === 'soccer_france_ligue_one') {
    const espnId = LIGUE_1_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/soccer/500/${espnId}.png`;
  }
  // Generic soccer fallback - use first letter as icon
  if (sportKey.includes('soccer')) {
    return null; // Will fall back to colored initials
  }
  return null;
}

export function getTeamColor(teamName: string): string {
  const colors = [
    '#1d4ed8', '#dc2626', '#059669', '#d97706', '#7c3aed', '#db2777',
    '#0891b2', '#65a30d', '#ea580c', '#4f46e5', '#be123c', '#0d9488'
  ];
  const hash = teamName.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
  return colors[hash % colors.length];
}

export function getTeamInitials(teamName: string): string {
  const words = teamName.split(' ');
  if (words.length === 1) return teamName.slice(0, 2).toUpperCase();
  if (words.length >= 2) {
    // "Michigan St" / "Michigan State" / "Virginia Tech"
    if (['State', 'St', 'Tech'].includes(words[1])) {
      return (words[0][0] + words[1][0]).toUpperCase();
    }
    return words[0].slice(0, 2).toUpperCase();
  }
  return words[0].slice(0, 2).toUpperCase();
}
