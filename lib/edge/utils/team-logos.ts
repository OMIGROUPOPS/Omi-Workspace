export const NFL_TEAMS: Record<string, string> = {
  'Arizona Cardinals': 'ari', 'Atlanta Falcons': 'atl', 'Baltimore Ravens': 'bal', 'Buffalo Bills': 'buf',
  'Carolina Panthers': 'car', 'Chicago Bears': 'chi', 'Cincinnati Bengals': 'cin', 'Cleveland Browns': 'cle',
  'Dallas Cowboys': 'dal', 'Denver Broncos': 'den', 'Detroit Lions': 'det', 'Green Bay Packers': 'gb',
  'Houston Texans': 'hou', 'Indianapolis Colts': 'ind', 'Jacksonville Jaguars': 'jax', 'Kansas City Chiefs': 'kc',
  'Las Vegas Raiders': 'lv', 'Los Angeles Chargers': 'lac', 'Los Angeles Rams': 'lar', 'Miami Dolphins': 'mia',
  'Minnesota Vikings': 'min', 'New England Patriots': 'ne', 'New Orleans Saints': 'no', 'New York Giants': 'nyg',
  'New York Jets': 'nyj', 'Philadelphia Eagles': 'phi', 'Pittsburgh Steelers': 'pit', 'San Francisco 49ers': 'sf',
  'Seattle Seahawks': 'sea', 'Tampa Bay Buccaneers': 'tb', 'Tennessee Titans': 'ten', 'Washington Commanders': 'wsh',
};

export const NBA_TEAMS: Record<string, string> = {
  'Atlanta Hawks': 'atl', 'Boston Celtics': 'bos', 'Brooklyn Nets': 'bkn', 'Charlotte Hornets': 'cha',
  'Chicago Bulls': 'chi', 'Cleveland Cavaliers': 'cle', 'Dallas Mavericks': 'dal', 'Denver Nuggets': 'den',
  'Detroit Pistons': 'det', 'Golden State Warriors': 'gs', 'Houston Rockets': 'hou', 'Indiana Pacers': 'ind',
  'LA Clippers': 'lac', 'Los Angeles Clippers': 'lac', 'Los Angeles Lakers': 'lal', 'LA Lakers': 'lal',
  'Memphis Grizzlies': 'mem', 'Miami Heat': 'mia', 'Milwaukee Bucks': 'mil', 'Minnesota Timberwolves': 'min',
  'New Orleans Pelicans': 'no', 'New York Knicks': 'ny', 'Oklahoma City Thunder': 'okc', 'Orlando Magic': 'orl',
  'Philadelphia 76ers': 'phi', 'Phoenix Suns': 'phx', 'Portland Trail Blazers': 'por', 'Sacramento Kings': 'sac',
  'San Antonio Spurs': 'sa', 'Toronto Raptors': 'tor', 'Utah Jazz': 'utah', 'Washington Wizards': 'wsh',
};

export const NHL_TEAMS: Record<string, string> = {
  'Anaheim Ducks': 'ana', 'Arizona Coyotes': 'ari', 'Boston Bruins': 'bos', 'Buffalo Sabres': 'buf',
  'Calgary Flames': 'cgy', 'Carolina Hurricanes': 'car', 'Chicago Blackhawks': 'chi', 'Colorado Avalanche': 'col',
  'Columbus Blue Jackets': 'cbj', 'Dallas Stars': 'dal', 'Detroit Red Wings': 'det', 'Edmonton Oilers': 'edm',
  'Florida Panthers': 'fla', 'Los Angeles Kings': 'la', 'Minnesota Wild': 'min', 'Montreal Canadiens': 'mtl',
  'Nashville Predators': 'nsh', 'New Jersey Devils': 'nj', 'New York Islanders': 'nyi', 'New York Rangers': 'nyr',
  'Ottawa Senators': 'ott', 'Philadelphia Flyers': 'phi', 'Pittsburgh Penguins': 'pit', 'San Jose Sharks': 'sj',
  'Seattle Kraken': 'sea', 'St. Louis Blues': 'stl', 'St Louis Blues': 'stl', 'Tampa Bay Lightning': 'tb',
  'Toronto Maple Leafs': 'tor', 'Utah Hockey Club': 'utah', 'Vancouver Canucks': 'van', 'Vegas Golden Knights': 'vgk',
  'Washington Capitals': 'wsh', 'Winnipeg Jets': 'wpg',
};

export const WNBA_TEAMS: Record<string, string> = {
  'Atlanta Dream': 'atl', 'Chicago Sky': 'chi', 'Connecticut Sun': 'conn', 'Dallas Wings': 'dal',
  'Indiana Fever': 'ind', 'Las Vegas Aces': 'lv', 'Los Angeles Sparks': 'la', 'Minnesota Lynx': 'min',
  'New York Liberty': 'ny', 'Phoenix Mercury': 'phx', 'Seattle Storm': 'sea', 'Washington Mystics': 'wsh',
};

// ESPN numeric IDs for NCAAB teams
export const NCAAB_TEAMS: Record<string, number> = {
  'Duke Blue Devils': 150, 'North Carolina Tar Heels': 153, 'Kentucky Wildcats': 96,
  'Kansas Jayhawks': 2305, 'Gonzaga Bulldogs': 2250, 'UCLA Bruins': 26,
  'Villanova Wildcats': 222, 'Michigan State Spartans': 127, 'Michigan Wolverines': 130,
  'UConn Huskies': 41, 'Connecticut Huskies': 41, 'Purdue Boilermakers': 2509,
  'Arizona Wildcats': 12, 'Houston Cougars': 248, 'Alabama Crimson Tide': 333,
  'Tennessee Volunteers': 2633, 'Baylor Bears': 239, 'Auburn Tigers': 2,
  'Creighton Bluejays': 156, 'Marquette Golden Eagles': 269, 'Texas Longhorns': 251,
  'Indiana Hoosiers': 84, 'Iowa State Cyclones': 66, 'Iowa Hawkeyes': 2294,
  'Illinois Fighting Illini': 356, 'Wisconsin Badgers': 275, 'Ohio State Buckeyes': 194,
  'Louisville Cardinals': 97, 'Syracuse Orange': 183, 'Virginia Cavaliers': 258,
  'Florida State Seminoles': 52, 'Florida Gators': 57, 'LSU Tigers': 99,
  'Arkansas Razorbacks': 8, 'Memphis Tigers': 235, 'Oregon Ducks': 2483,
  'San Diego State Aztecs': 21, 'Xavier Musketeers': 2752, 'St. Johns Red Storm': 2599,
  "St. John's Red Storm": 2599, 'Seton Hall Pirates': 2550, 'Providence Friars': 2507,
  'Georgetown Hoyas': 46, 'Dayton Flyers': 2168, 'Maryland Terrapins': 120,
  'Pittsburgh Panthers': 221, 'West Virginia Mountaineers': 277, 'Texas Tech Red Raiders': 2641,
  'Oklahoma Sooners': 201, 'Oklahoma State Cowboys': 197, 'TCU Horned Frogs': 2628,
  'Kansas State Wildcats': 2306, 'Cincinnati Bearcats': 2132, 'Colorado Buffaloes': 38,
  'USC Trojans': 30, 'Stanford Cardinal': 24, 'Washington Huskies': 264,
  'Arizona State Sun Devils': 9, 'Oregon State Beavers': 204, 'Utah Utes': 254,
  'Nevada Wolf Pack': 2440, 'UNLV Rebels': 2439, 'BYU Cougars': 252,
  'Boise State Broncos': 68, 'New Mexico Lobos': 167, 'Wyoming Cowboys': 2751,
  'Clemson Tigers': 228, 'NC State Wolfpack': 152, 'Wake Forest Demon Deacons': 154,
  'Georgia Tech Yellow Jackets': 59, 'Miami Hurricanes': 2390, 'Virginia Tech Hokies': 259,
  'Mississippi State Bulldogs': 344, 'Ole Miss Rebels': 145, 'Missouri Tigers': 142,
  'Vanderbilt Commodores': 238, 'South Carolina Gamecocks': 2579, 'Georgia Bulldogs': 61,
  'Northwestern Wildcats': 77, 'Minnesota Golden Gophers': 135, 'Penn State Nittany Lions': 213,
  'Rutgers Scarlet Knights': 164, 'Nebraska Cornhuskers': 158,
};

// NCAAF shares many schools with NCAAB; add football-specific entries
export const NCAAF_TEAMS: Record<string, number> = {
  ...NCAAB_TEAMS,
  'Alabama Crimson Tide': 333, 'Ohio State Buckeyes': 194, 'Georgia Bulldogs': 61,
  'Clemson Tigers': 228, 'Michigan Wolverines': 130, 'LSU Tigers': 99,
  'Oklahoma Sooners': 201, 'Notre Dame Fighting Irish': 87,
  'Texas A&M Aggies': 245, 'Penn State Nittany Lions': 213,
};

export function getTeamLogo(teamName: string, sportKey: string): string | null {
  // NFL
  if (sportKey.includes('americanfootball_nfl') || sportKey === 'americanfootball_nfl') {
    const abbrev = NFL_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nfl/500/${abbrev}.png`;
  }
  // NCAAF
  if (sportKey.includes('ncaaf')) {
    const espnId = NCAAF_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/ncaa/500/${espnId}.png`;
  }
  // NBA
  if (sportKey === 'basketball_nba') {
    const abbrev = NBA_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nba/500/${abbrev}.png`;
  }
  // NCAAB
  if (sportKey.includes('ncaab')) {
    const espnId = NCAAB_TEAMS[teamName];
    if (espnId) return `https://a.espncdn.com/i/teamlogos/ncaa/500/${espnId}.png`;
  }
  // NHL
  if (sportKey.includes('icehockey') || sportKey.includes('nhl')) {
    const abbrev = NHL_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/nhl/500/${abbrev}.png`;
  }
  // WNBA
  if (sportKey === 'basketball_wnba') {
    const abbrev = WNBA_TEAMS[teamName];
    if (abbrev) return `https://a.espncdn.com/i/teamlogos/wnba/500/${abbrev}.png`;
  }
  return null;
}

export function getTeamColor(teamName: string): string {
  const colors = [
    '#1d4ed8', '#dc2626', '#059669', '#d97706', '#7c3aed', '#db2777',
    '#0891b2', '#65a30d', '#ea580c', '#4f46e5', '#be123c', '#0d9488'
  ];
  const hash = teamName.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
  return colors[hash % colors.length];
}

export function getTeamInitials(teamName: string): string {
  const words = teamName.split(' ');
  if (words.length === 1) return teamName.slice(0, 2).toUpperCase();
  if (words.length >= 2) {
    if (words[1] === 'State' || words[1] === 'Tech') {
      return (words[0][0] + words[1][0]).toUpperCase();
    }
    return words[0].slice(0, 2).toUpperCase();
  }
  return words[0].slice(0, 2).toUpperCase();
}
