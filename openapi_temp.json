{"openapi":"3.1.0","info":{"title":"OMI Edge API","description":"Sports betting mispricing detection API","version":"2.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Health check endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/status":{"get":{"summary":"Get Status","description":"Get API status including remaining Odds API calls.","operationId":"get_status_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/sports":{"get":{"summary":"Get Sports","description":"Get list of supported sports.","operationId":"get_sports_api_sports_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/edges/{sport}":{"get":{"summary":"Get Edges By Sport","description":"Get all edges for a sport - DATABASE ONLY.\nReturns cached predictions instantly. Run /api/refresh/pregame to populate.","operationId":"get_edges_by_sport_api_edges__sport__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/edges/{sport}/{game_id}":{"get":{"summary":"Get Game Edge","description":"Get detailed edge analysis for a single game - DATABASE ONLY.\nReturns cached prediction instantly.","operationId":"get_game_edge_api_edges__sport___game_id__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/active-edges":{"get":{"summary":"Get Active Edges","description":"Get all active edges across all sports.","operationId":"get_active_edges_api_active_edges_get","parameters":[{"name":"min_confidence","in":"query","required":false,"schema":{"type":"string","description":"Minimum confidence: PASS, WATCH, EDGE, STRONG, RARE","default":"WATCH","title":"Min Confidence"},"description":"Minimum confidence: PASS, WATCH, EDGE, STRONG, RARE"},{"name":"sport","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by sport","title":"Sport"},"description":"Filter by sport"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/lines/{game_id}":{"get":{"summary":"Get Line History","description":"Get line movement history for a game.","operationId":"get_line_history_api_lines__game_id__get","parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"market","in":"query","required":false,"schema":{"type":"string","description":"Market type: spread, moneyline, total","default":"spread","title":"Market"},"description":"Market type: spread, moneyline, total"},{"name":"book","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Specific book to filter by","title":"Book"},"description":"Specific book to filter by"},{"name":"period","in":"query","required":false,"schema":{"type":"string","description":"Market period: full, h1, h2, q1-q4, p1-p3","default":"full","title":"Period"},"description":"Market period: full, h1, h2, q1-q4, p1-p3"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/consensus/{sport}/{game_id}":{"get":{"summary":"Get Consensus Odds","description":"Get consensus odds for a game - DATABASE ONLY.\nReturns data from cached prediction.","operationId":"get_consensus_odds_api_consensus__sport___game_id__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/odds/{sport}/{game_id}":{"get":{"summary":"Get Per Book Odds","description":"Get odds for a game grouped by bookmaker.\nAllows frontend to display different lines when switching books.","operationId":"get_per_book_odds_api_odds__sport___game_id__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/props/{sport}/{game_id}":{"get":{"summary":"Get Game Props","description":"Get player props for a specific game - DATABASE ONLY, no live fetching.","operationId":"get_game_props_api_props__sport___game_id__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"market","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by market type (e.g., player_pass_yds)","title":"Market"},"description":"Filter by market type (e.g., player_pass_yds)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/props/{sport}/{game_id}/markets":{"get":{"summary":"Get Available Prop Markets","description":"Get list of available prop markets for a game.","operationId":"get_available_prop_markets_api_props__sport___game_id__markets_get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/props/{sport}/{game_id}/player/{player_name}":{"get":{"summary":"Get Player Props","description":"Get all props for a specific player.","operationId":"get_player_props_api_props__sport___game_id__player__player_name__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"player_name","in":"path","required":true,"schema":{"type":"string","title":"Player Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/props/history/{game_id}/{player_name}/{market_type}":{"get":{"summary":"Get Prop History","description":"Get historical prop line snapshots for a player.","operationId":"get_prop_history_api_props_history__game_id___player_name___market_type__get","parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"player_name","in":"path","required":true,"schema":{"type":"string","title":"Player Name"}},{"name":"market_type","in":"path","required":true,"schema":{"type":"string","title":"Market Type"}},{"name":"book","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by book","title":"Book"},"description":"Filter by book"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/weather/{game_id}":{"get":{"summary":"Get Game Weather","description":"Get weather data for a game (outdoor sports only).","operationId":"get_game_weather_api_weather__game_id__get","parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/{sport}/{game_id}":{"post":{"summary":"Chat About Game","description":"AI chatbot endpoint for game analysis.\nReads from database only - no additional API calls.","operationId":"chat_about_game_api_chat__sport___game_id__post","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/snapshot/{sport}/{game_id}":{"post":{"summary":"Snapshot Prediction","description":"Snapshot a prediction before game starts.","operationId":"snapshot_prediction_api_results_snapshot__sport___game_id__post","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/grade/{game_id}":{"post":{"summary":"Grade Game","description":"Grade a completed game.","operationId":"grade_game_api_results_grade__game_id__post","parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"home_score","in":"query","required":true,"schema":{"type":"integer","title":"Home Score"}},{"name":"away_score","in":"query","required":true,"schema":{"type":"integer","title":"Away Score"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/recent":{"get":{"summary":"Get Recent Results","description":"Get recent graded games.","operationId":"get_recent_results_api_results_recent_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"sport","in":"query","required":false,"schema":{"type":"string","title":"Sport"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/summary":{"get":{"summary":"Get Performance Summary","description":"Get performance summary stats.","operationId":"get_performance_summary_api_results_summary_get","parameters":[{"name":"sport","in":"query","required":false,"schema":{"type":"string","title":"Sport"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/price-movement/{game_id}":{"get":{"summary":"Get Price Movement","description":"Get price movement for a market.","operationId":"get_price_movement_api_results_price_movement__game_id__get","parameters":[{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"market","in":"query","required":false,"schema":{"type":"string","default":"spread","title":"Market"}},{"name":"book","in":"query","required":false,"schema":{"type":"string","default":"fanduel","title":"Book"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/espn/scores/{sport}":{"get":{"summary":"Get Espn Scores","description":"Get scores from ESPN (free, no API cost).","operationId":"get_espn_scores_api_espn_scores__sport__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"date","in":"query","required":false,"schema":{"type":"string","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/espn/final/{sport}":{"get":{"summary":"Get Espn Final Scores","description":"Get only final scores from ESPN.","operationId":"get_espn_final_scores_api_espn_final__sport__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"date","in":"query","required":false,"schema":{"type":"string","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/auto-grade":{"post":{"summary":"Auto Grade Games","description":"Automatically grade completed games using ESPN scores.","operationId":"auto_grade_games_api_results_auto_grade_post","parameters":[{"name":"sport","in":"query","required":false,"schema":{"type":"string","title":"Sport"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/snapshot-upcoming":{"post":{"summary":"Snapshot Upcoming","description":"Snapshot predictions for games starting soon.","operationId":"snapshot_upcoming_api_results_snapshot_upcoming_post","parameters":[{"name":"sport","in":"query","required":false,"schema":{"type":"string","title":"Sport"}},{"name":"minutes","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Minutes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/refresh":{"post":{"summary":"Refresh All Edges","description":"Manually trigger a refresh of all edges.","operationId":"refresh_all_edges_api_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/refresh/pregame":{"post":{"summary":"Refresh Pregame","description":"Manually trigger a pre-game refresh (all markets + props).","operationId":"refresh_pregame_api_refresh_pregame_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/refresh/live":{"post":{"summary":"Refresh Live","description":"Manually trigger a live games refresh.","operationId":"refresh_live_api_refresh_live_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/refresh/props":{"post":{"summary":"Refresh Live Props","description":"Manually trigger a live props refresh.","operationId":"refresh_live_props_api_refresh_props_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/pillars/{sport}/{game_id}":{"get":{"summary":"Calculate Pillars","description":"Calculate 5-pillar scores for a game.\n\nIf fresh=True, recalculates from live data (uses API calls).\nOtherwise returns cached values from database.\n\nReturns pillar scores on 0-1 scale:\n- execution: Injuries, weather, lineup uncertainty\n- incentives: Playoffs, motivation, rivalries\n- shocks: Breaking news, line movement timing\n- time_decay: Rest days, back-to-back, travel\n- flow: Sharp money, book disagreement\n- composite: Weighted average of all pillars","operationId":"calculate_pillars_api_pillars__sport___game_id__get","parameters":[{"name":"sport","in":"path","required":true,"schema":{"type":"string","title":"Sport"}},{"name":"game_id","in":"path","required":true,"schema":{"type":"string","title":"Game Id"}},{"name":"fresh","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Fresh"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}